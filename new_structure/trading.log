2024-06-29 23:48:02,959 - INFO - Database initialized
2024-06-29 23:48:02,960 - INFO - Trading job scheduled to run every 1 minute
2024-06-29 23:48:02,960 - INFO - Performance logging scheduled to run every 30 minutes
2024-06-29 23:48:02,960 - INFO - Starting main loop
2024-06-29 23:49:02,961 - INFO - Starting trading job
2024-06-29 23:49:06,171 - INFO - Current portfolio: {'krw_balance': 2017575.23753328, 'btc_balance': 0, 'btc_avg_buy_price': 0}
2024-06-29 23:49:06,172 - INFO - Current BTC price: 85690000.0
2024-06-29 23:49:06,725 - ERROR - Error capturing chart: WebDriver.__init__() got an unexpected keyword argument 'service'
2024-06-29 23:49:07,959 - INFO - Strategy MovingAverageCrossover signal: hold
2024-06-29 23:49:07,960 - INFO - Strategy RSIStrategy signal: hold
2024-06-29 23:49:07,962 - INFO - Instructions loaded successfully
2024-06-29 23:49:08,033 - INFO - Data serialized successfully
2024-06-29 23:49:08,034 - INFO - Sending request to Anthropic API
2024-06-29 23:49:08,034 - ERROR - Error in analyze_data: Missing required arguments; Expected either ('max_tokens_to_sample', 'model' and 'prompt') or ('max_tokens_to_sample', 'model', 'prompt' and 'stream') arguments to be given
Traceback (most recent call last):
  File "C:\Users\pakke\gpt-bitcoin\new_structure\analysis\claude_analyzer.py", line 78, in analyze_data
    response = client.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pakke\gpt-bitcoin\new_structure\venv\Lib\site-packages\anthropic\_utils\_utils.py", line 252, in wrapper
    raise TypeError(msg)
TypeError: Missing required arguments; Expected either ('max_tokens_to_sample', 'model' and 'prompt') or ('max_tokens_to_sample', 'model', 'prompt' and 'stream') arguments to be given
2024-06-29 23:49:08,036 - WARNING - Handling error: unknown_error
2024-06-29 23:49:08,037 - INFO - Using default strategy: {'decision': 'hold', 'reason': 'Unknown error occurred, using safe strategy', 'confidence': 5, 'suggested_position_size': 0}
2024-06-29 23:49:08,037 - INFO - Final trading decision: {'action': 'hold', 'percentage': 0, 'reason': 'No action needed'}
2024-06-29 23:49:08,038 - INFO - Holding position. No trade executed.
2024-06-29 23:49:08,044 - INFO - Trading job completed. Decision: {'action': 'hold', 'percentage': 0, 'reason': 'No action needed'}
2024-06-29 23:49:13,812 - INFO - KeyboardInterrupt received. Exiting gracefully...
2024-06-29 23:49:13,812 - INFO - Shutting down the trading bot
